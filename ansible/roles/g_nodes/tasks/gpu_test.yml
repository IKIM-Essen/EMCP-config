---
- name: Create the working directory
  ansible.builtin.file:
    path: "{{ work_dir }}/pytorch_GPUNET"
    state: directory
    owner: "{{ default_usr }}"
    group: "{{ default_usr }}"
    mode: 0755

- name: Add the scripts for collecting GPU facts
  ansible.builtin.copy:
    src: "{{ g_nodes_src_list }}"
    dest: "{{ work_dir }}/pytorch_GPUNET"
    owner: "{{ default_usr }}"
    group: "{{ default_usr }}"
    mode: 0755
  loop:
    - download_dataset.sh
    - gpuNet_docker.sh
  loop_control:
    loop_var: g_nodes_src_list
