---
- name: Create the working directory to test Pytorch Framework
  ansible.builtin.file:
    path: "{{ gputest_workdir_path }}/pytorch_GPUNET"
    state: directory
    owner: "{{ gputest_workdir_owner }}"
    group: "{{ gputest_workdir_owner }}"
    mode: 0755

- name: Add the scripts for collecting GPU facts for corresponding Pytorch Framework test
  ansible.builtin.copy:
    src: "{{ g_nodes_src_list }}"
    dest: "{{ gputest_workdir_path }}/pytorch_GPUNET"
    owner: "{{ gputest_workdir_owner }}"
    group: "{{ gputest_workdir_owner }}"
    mode: 0755
  loop:
    - download_ImageNet_dataset.sh
    - gpuNet_docker.sh
  loop_control:
    loop_var: g_nodes_src_list

- name: Create the working directory to test TensorFlow Framework
  ansible.builtin.file:
    path: "{{ gputest_workdir_path }}/tensorflow_SSD"
    state: directory
    owner: "{{ gputest_workdir_owner }}"
    group: "{{ gputest_workdir_owner }}"
    mode: 0755

- name: Add the scripts for collecting GPU facts for corresponding TensorFlow Framework test
  ansible.builtin.copy:
    src: "{{ g_nodes_src_list }}"
    dest: "{{ gputest_workdir_path }}/tensorflow_SSD"
    owner: "{{ gputest_workdir_owner }}"
    group: "{{ gputest_workdir_owner }}"
    mode: 0755
  loop:
    - download_coco2017tf_dataset.sh
    - SSD_docker.sh
  loop_control:
    loop_var: g_nodes_src_list
