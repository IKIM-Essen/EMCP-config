---
- name: Install slurmctld and client tools
  become: true
  ansible.builtin.apt:
    name:
      - slurmctld
      - slurm-wlm-basic-plugins
      - slurm-client
    state: present

- name: Stop slurmd
  community.general.supervisorctl:
    name: slurmd
    state: stopped

- name: Start slurmctld
  community.general.supervisorctl:
    name: slurmctld
    state: started
